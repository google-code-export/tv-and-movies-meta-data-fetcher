<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<installation version="1.0">
	<info>
		<appname>@{ant.project.name}</appname>
		<appversion>@{project.version}</appversion>
		<url>http://code.google.com/p/tv-and-movies-meta-data-fetcher/</url>
		<authors>
			<author name="John-Paul Stanford" email="dev@stanwood.org.uk"/>
		</authors>
		<javaversion>1.6</javaversion>
		<!-- <requiresjdk/>  -->
		<uninstaller name="uninstall.jar" path="${INSTALL_PATH}/uninstaller" write="yes"/>
	</info>

	<guiprefs width="600" height="480" resizable="no">
		<laf name="kunststoff">
			<os family="unix" />
		</laf>
		<laf name="looks">
			<os family="windows" />
			<param name="variant" value="extwin" />
		</laf>
		<modifier key="useHeadingPanel" value="yes"/>
		<modifier key="useHeadingForSummary" value="yes"/>
		<modifier key="headingImageOnLeft" value="yes"/>
		<modifier key="headingLineCount" value="2"/>
		<modifier key="headingFontSize" value="1.5"/>
		<modifier key="headingBackgroundColor" value="0x00ffffff"/>
		<modifier key="headingPanelCounter" value="text"/>
		<modifier key="headingPanelCounterPos" value="inHeading"/>
	</guiprefs>

	<locale>
		<langpack iso3="eng"/>
	</locale>
		
	<variables>			
  		<variable name="JDKPathPanel.minVersion" value="1.6" />  
  		<variable name="JDKPathPanel.skipIfValid" value="yes" />
	</variables>
	
	<listeners>
	    <listener installer="RegistryInstallerListener" uninstaller="RegistryUninstallerListener" >
	        <os family="windows"/>
	    </listener>
	</listeners>
	
	<resources>    
    	<res src="RegistrySpec.xml" id="RegistrySpec.xml"/>
    	<res src="windows_shortcut_specification.xml" id="shortcutSpec.xml"/>
		<res src="unix_shortcut_specification.xml" id="Unix_shortcutSpec.xml"/>		
	</resources>
	
	<native type="izpack" name="ShellLink.dll"/>				
	<native type="izpack" name="ShellLink_x64.dll"/>  					
	<native type="3rdparty" name="COIOSHelper.dll" stage="both">
		<os family="windows"/>				
	</native>
	<native type="3rdparty" name="COIOSHelper_x64.dll" stage="both">
		<os family="windows"/>				
	</native>
	
	<panels>       
		<panel classname="CheckedHelloPanel"/>
		<panel classname="TargetPanel"/>
        <panel classname="PacksPanel"/>
		<panel classname="SummaryPanel"/>
        <panel classname="InstallPanel"/> 
        <panel classname="ShortcutPanel"/>
        <panel classname="SimpleFinishPanel"/>        
	</panels>
	
	<packs>
		<pack name="3rd Party Libraries" required="yes" installGroups="Libraries" >
			<description>3rd Pary libraries needed by the application</description>
			
			<!-- Install all the libs -->
			<fileset targetdir="$INSTALL_PATH/lib" dir="@{libs.dir}/run-time" includes="*.jar"/>
        </pack>
		
		<pack name="Application Libaray" required="yes" installGroups="Libraries">
			<description>The libraries need by the the command line and GUI tools</description>
			
			<file src="@{dist.dir}/@{ant.project.name}-@{project.version}.jar" targetdir="$INSTALL_PATH/lib"/>
		</pack>
		
		<pack name="CLI Application" required="yes" installGroups="Application">
			<description>Command line application</description>
			
			<file src="@{installer.dir}/scripts/unix/mm-manager" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>
			<executable targetfile="$INSTALL_PATH/bin/mm-manager">
				<os family="unix"/>
			</executable>
			<file src="@{installer.dir}/scripts/unix/mm-copy-store-to-store" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>
			<executable targetfile="$INSTALL_PATH/bin/mm-copy-store-to-store">
				<os family="unix"/>
			</executable>
			<file src="@{installer.dir}/scripts/unix/mm-move-into-media-directory" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>
			<executable targetfile="$INSTALL_PATH/bin/mm-move-into-media-directory">
				<os family="unix"/>
			</executable>			
			<file src="@{installer.dir}/scripts/unix/mm-xbmc" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>
			<executable targetfile="$INSTALL_PATH/bin/mm-xbmc">
				<os family="unix"/>
			</executable>
			<file src="@{installer.dir}/scripts/unix/mm-java" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>
			<executable targetfile="$INSTALL_PATH/bin/mm-java">
				<os family="unix"/>
			</executable>
			
			<file src="@{installer.dir}/scripts/windows/mm-manager.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>			
			<file src="@{installer.dir}/scripts/windows/mm-move-into-media-directory.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>
			<file src="@{installer.dir}/scripts/windows/mm-copy-store-to-store.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>		
			<file src="@{installer.dir}/scripts/windows/mm-xbmc.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>			
			<file src="@{installer.dir}/scripts/windows/mm-java.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>			
		</pack>
		
		<pack name="CLI Documentation" required="no" installGroups="Documentation">
			<description>Command line documentation</description>
			
			<!-- Create start menu entries for docs -->
			<singlefile src="@{docs.dir}/userguide/html/docbook.html" target="$INSTALL_PATH/docs/html/index.html"/>
			<singlefile src="@{docs.dir}/userguide/userguide.pdf" target="$INSTALL_PATH/docs/pdf/userguide.pdf"/>
		</pack>			
	</packs>
</installation>
